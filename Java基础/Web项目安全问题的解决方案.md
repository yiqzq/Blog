# Web项目安全问题的解决方案

[toc]

**主要内容来源于网上**

## SQL 注入问题

​		常见情况:

- 在用户名,密码登陆的时候,在密码栏输入`' OR '1'='1`,那就会导致可以不通过密码直接登陆

  **预防措施**

1. 服务端Filter对访问者输入的字符进行过滤检验，但是攻击者经常把危险字符潜藏在用户输入的有效字符中完 成过滤检验。
2. 对进入数据库的特殊字符（`'"\尖括号&*`;等）进行转义处理，或编码转换。

2. 通过正则表达式对页面的文本框输入的数据进行限制可以减少过滤检验存在的漏洞。

3. 使用prepareStatment预编译sql语句

##  XSS

XSS攻击：跨站脚本攻击(Cross-Site Scripting)。XSS的攻击目标是为了盗取存储在客户端的cookie或者其他网站用于识别客户端身份的敏感信息。一旦获取到合法用户的信息后，攻击者甚至可以假冒合法用户与网站进行交互。

存储型XSS: 主要出现在让用户输入数据，供其他浏览此页的用户进行查看的地方，包括留言、评论、博客日志和各类表单等。应用程序从数据库中查询数据，在页面中显示出来，攻击者在相关页面输入恶意的脚本数据后，用户浏览此类页面时就可能受到攻击。

反射型XSS: 主要做法是将脚本代码加入URL地址的请求参数里，请求参数进入程序后在页面直接输出，用户点击类似的恶意链接就可能受到攻击。

**预防措施**

1. 过滤特殊字符
    避免XSS的方法之一主要是将用户所提供的内容进行过滤(如上面的`script`标签)。

2. 使用HTTP头指定类型
    `w.Header().Set("Content-Type","text/javascript")`这样就可以让浏览器解析javascript代码，而不会是html输出。

##  DDOS

DDOS：分布式拒绝服务攻击（Distributed Denial of Service），简单说就是发送大量请求是使服务器瘫痪。

在技术角度上，DDoS攻击可以针对网络通讯协议的各层，手段大致有：TCP类的SYN Flood、ACK Flood，UDP类的Fraggle、Trinoo，DNS Query Flood，ICMP Flood，Slowloris类等等。

### SYN攻击

在三次握手过程中，服务器发送 `SYN-ACK` 之后，收到客户端的 `ACK` 之前的 TCP 连接称为半连接(half-open connect)。此时服务器处于 `SYN_RCVD` 状态。当收到 ACK 后，服务器才能转入 `ESTABLISHED`状态.

`SYN`攻击指的是，攻击客户端在短时间内伪造大量不存在的IP地址，向服务器不断地发送`SYN`包，服务器回复确认包，并等待客户的确认。由于源地址是不存在的，服务器需要不断的重发直至超时，这些伪造的`SYN`包将长时间占用未连接队列，正常的`SYN`请求被丢弃，导致目标系统运行缓慢，严重者会引起网络堵塞甚至系统瘫痪。

DDOS的预防方法

1. **把网站做成静态页面或者伪静态**
2. **扩大带宽**

3. **HTTP 请求的拦截**

   HTTP 请求的特征一般有两种：IP 地址和 User Agent 字段。比如，恶意请求都是从某个 IP 段发出的，那么把这个 IP 段封掉就行。或者，它们的 User Agent 字段有特征(包含某个特定的词语)，那就把带有这个词语的请求拦截。

4. **隐藏服务器真实IP**

## CSRF

CSRF（Cross-site request forgery），中文名称：跨站请求伪造。

你这可以这么理解CSRF攻击：攻击者盗用了你的身份，以你的名义发送恶意请求。CSRF能够做的事情包括：以你名义发送邮件，发消息，盗取你的账号，甚至于购买商品，虚拟货币转账......造成的问题包括：个人隐私泄露以及财产安全。

**预防方法**

 Hash加密cookie中csrf_token值

## 参考资料

[Java网络安全系列面试题常见web攻击有哪些](https://www.jianshu.com/p/1c3db5585ba1)